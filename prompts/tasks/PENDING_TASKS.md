# 未完了タスク一覧

このファイルには、現在未完了または保留中のタスクをまとめています。

**最終更新**: 2025-10-30（Task 7検証結果追記）

---

## 🚀 アクティブタスク

現在進行中のタスクはありません。

---

## ✅ 完了タスク

### Task 9: MCP Server実装

**完了報告**: task9.completion-report.md
**状態**: 完了 ✅
**実装工数**: 約2時間
**完了日**: 2025-10-30

#### 実装内容

- [x] MCP Serverパッケージ作成
- [x] 3つのツール実装（search, get_document, index_status）
- [x] E2Eテスト作成（22テスト全て成功）
- [x] README.md作成

---

## ✅ 完了タスク（過去分）

### Task 8: インデックス状態管理システムの実装

**仕様書**: task8.dirty-marking-system-spec.v2.md
**状態**: 完了 ✅
**実装工数**: 約12時間
**完了日**: 2025-10-30

#### 実装内容

- [x] Phase 1-7: 全て完了
- [x] サーバ起動時の自動インデックス同期機能
- [x] rebuildIndexのスマートリビルド対応
- 合計141テスト全てパス ✅

---

## 📋 保留タスク

### Task 7: dbPath修正の検証（完了）

**元ファイル**: task7.verify-dbpath-fix.v1.md（削除済み）
**状態**: ✅ 完了
**関連**: Task 6（問題A修正）
**検証日**: 2025-10-30

#### 検証結果

**コード修正**: ✅ 完了
- Python worker: `_get_db_path()` メソッドと `--db-path` 引数処理が実装済み
- TypeScript DBEngine: 絶対パスを渡す処理が実装済み
- Server: パス解決が実装済み

**データ保存場所**: ✅ 確認完了
- データは期待通り `./.search-docs/index/` に保存される
- 古いデータ（`packages/db-engine/.search-docs/`）は削除済み

**クリーンアップ実施**: ✅ 完了
- 修正前の古いデータを削除
- `.gitignore` にテスト用ディレクトリパターンを追加
  - `.search-docs-*/` (テスト用)
  - `test-db*/` (テスト用)

---

## 優先度: 低

### Task 4（残り）: CLIコマンドの未実装部分

**完了報告**: task4.completion-report.md
**状態**: Phase 3完了、Phase 4/5は部分実装

#### 未実装コマンド

**Phase 4: indexコマンド（部分）**
- ❌ `index status` - インデックス統計を表示（推定: 1時間）
- ❌ `index clean` - Dirtyセクションをクリーン（推定: 1時間）

**Phase 5: configコマンド（全て）**
- ❌ `config init` - デフォルト設定ファイル生成（推定: 2時間）
- ❌ `config validate` - 設定ファイルのバリデーション（推定: 1.5時間）
- ❌ `config show` - 設定ファイルの内容を表示（推定: 0.5時間）

#### 実装の必要性

現状でも基本的な運用（サーバ起動・停止・検索・インデックス再構築）は可能なため、優先度は低い。

---

## その他の検討事項

### 設定ファイルの作成タイミング

**問題**: `.search-docs.json`の作成根拠が不明確
- 誰が、いつ、どのように作成するか仕様化されていない

**対応候補**:
1. `config init`コマンドで作成（未実装）
2. サーバ初回起動時に自動生成
3. 手動作成を前提（ドキュメント整備）

**優先度**: 低（現状は手動作成で運用可能）

---

## タスクの優先順位

1. **Task 8（実装中）** - 17時間
   - インデックス状態管理システムの実装

2. **Task 7（保留）** - 30分〜1時間
   - 必要に応じて検証を実施

3. **Task 4残り（低優先度）** - 5〜7時間
   - 必要に応じて実装

---

**管理ポリシー**:
- このファイルは定期的に見直し、完了したタスクは削除する
- 新しい未完了タスクが発生した場合、このファイルに追記する
- 優先度は状況に応じて随時更新する
